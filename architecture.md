# ç³»ç»Ÿæ¶æ„è®¾è®¡ï¼šæ–°åŠ å¡æ—¥å¸¸ç”¨å“ä¸é£Ÿå“é‡‡è´­ç®¡ç†ç³»ç»Ÿ

## 1. ç³»ç»Ÿæ¦‚è¿°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Grocery Manager System                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Web UI   â”‚  â”‚    CLI    â”‚  â”‚  Mobile   â”‚  â”‚  Telegram Bot     â”‚    â”‚
â”‚  â”‚ (Vue.js)  â”‚  â”‚  (Click)  â”‚  â”‚   (PWA)   â”‚  â”‚   (Optional)      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                  â”‚                                      â”‚
â”‚                          â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”                             â”‚
â”‚                          â”‚   REST API    â”‚                             â”‚
â”‚                          â”‚  (FastAPI)    â”‚                             â”‚
â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚
â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚        â”‚                         â”‚                         â”‚           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Inventory â”‚            â”‚   Price     â”‚           â”‚   Order     â”‚   â”‚
â”‚  â”‚  Manager  â”‚            â”‚   Monitor   â”‚           â”‚   Manager   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚        â”‚                         â”‚                         â”‚           â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                  â”‚                                      â”‚
â”‚                          â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”                             â”‚
â”‚                          â”‚   Scheduler   â”‚                             â”‚
â”‚                          â”‚ (APScheduler) â”‚                             â”‚
â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚
â”‚                                  â”‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                      Platform Adapters                             â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚ Shopee  â”‚ â”‚ Lazada  â”‚ â”‚FairPriceâ”‚ â”‚  Cold   â”‚ â”‚   Amazon    â”‚  â”‚ â”‚
â”‚  â”‚  â”‚   API   â”‚ â”‚   API   â”‚ â”‚ Scraper â”‚ â”‚ Storage â”‚ â”‚   SG API    â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                  â”‚                                      â”‚
â”‚                          â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”                             â”‚
â”‚                          â”‚    SQLite     â”‚                             â”‚
â”‚                          â”‚   Database    â”‚                             â”‚
â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 2. æ ¸å¿ƒæ¨¡å—

### 2.1 åº“å­˜ç®¡ç†æ¨¡å— (Inventory Manager)

**åŠŸèƒ½**:
- ç®¡ç†å®¶åº­ç‰©å“æ¸…å•
- è·Ÿè¸ªç‰©å“æ•°é‡å’Œè¿‡æœŸæ—¥æœŸ
- ä½åº“å­˜é¢„è­¦
- æ¶ˆè€—é€Ÿç‡åˆ†æ

**æ•°æ®æ¨¡å‹**:
```python
class InventoryItem:
    id: int
    name: str                    # ç‰©å“åç§°
    category: str                # åˆ†ç±»ï¼šé£Ÿå“/æ—¥ç”¨å“/æ¸…æ´ç”¨å“ç­‰
    current_quantity: float      # å½“å‰æ•°é‡
    unit: str                    # å•ä½ï¼šä¸ª/ç“¶/kgç­‰
    min_quantity: float          # æœ€ä½åº“å­˜è­¦æˆ’çº¿
    preferred_quantity: float    # ç†æƒ³åº“å­˜é‡
    expiry_date: Optional[date]  # è¿‡æœŸæ—¥æœŸ
    last_purchase_date: date     # ä¸Šæ¬¡è´­ä¹°æ—¥æœŸ
    avg_consumption_rate: float  # å¹³å‡æ¶ˆè€—é€Ÿç‡ï¼ˆæ¯å¤©ï¼‰
    preferred_brands: List[str]  # åå¥½å“ç‰Œ
    notes: str                   # å¤‡æ³¨
```

### 2.2 ä»·æ ¼ç›‘æ§æ¨¡å— (Price Monitor)

**åŠŸèƒ½**:
- å®šæ—¶æŠ“å–å„å¹³å°ä»·æ ¼
- ä»·æ ¼å†å²è®°å½•
- æœ€ä½³ä»·æ ¼æ¨è
- ä¿ƒé”€æ´»åŠ¨ç›‘æ§

**æ•°æ®æ¨¡å‹**:
```python
class PriceRecord:
    id: int
    product_name: str
    platform: str           # shopee/lazada/fairprice/etc
    platform_product_id: str
    price: Decimal
    original_price: Optional[Decimal]
    discount_percent: Optional[float]
    unit_price: Decimal     # å•ä½ä»·æ ¼ï¼ˆä¾¿äºæ¯”è¾ƒï¼‰
    in_stock: bool
    delivery_fee: Decimal
    promo_info: str
    scraped_at: datetime
    url: str
```

### 2.3 é‡‡è´­æ¸…å•æ¨¡å— (Shopping List)

**åŠŸèƒ½**:
- è‡ªåŠ¨ç”Ÿæˆé‡‡è´­å»ºè®®
- æ‰‹åŠ¨æ·»åŠ /ç¼–è¾‘æ¸…å•
- å¹³å°æ¯”ä»·æ±‡æ€»
- æœ€ä¼˜è´­ä¹°æ–¹æ¡ˆ

**æ•°æ®æ¨¡å‹**:
```python
class ShoppingList:
    id: int
    created_at: datetime
    status: str             # draft/pending/ordered/completed
    items: List[ShoppingListItem]
    total_estimated_cost: Decimal

class ShoppingListItem:
    inventory_item_id: int
    quantity_needed: float
    best_platform: str
    best_price: Decimal
    alternatives: List[PlatformOption]
```

### 2.4 è®¢å•ç®¡ç†æ¨¡å— (Order Manager)

**åŠŸèƒ½**:
- ä¸‹å•ï¼ˆAPIæˆ–è·³è½¬é“¾æ¥ï¼‰
- è®¢å•è·Ÿè¸ª
- å†å²è®¢å•è®°å½•
- è‡ªåŠ¨ç¡®è®¤æ”¶è´§æ›´æ–°åº“å­˜

**æ•°æ®æ¨¡å‹**:
```python
class Order:
    id: int
    platform: str
    platform_order_id: str
    items: List[OrderItem]
    total_amount: Decimal
    status: str             # pending/paid/shipped/delivered
    ordered_at: datetime
    delivered_at: Optional[datetime]
```

## 3. å¹³å°é€‚é…å™¨è®¾è®¡

### 3.1 æŠ½è±¡åŸºç±»

```python
from abc import ABC, abstractmethod

class PlatformAdapter(ABC):
    @abstractmethod
    async def search_products(self, query: str, limit: int = 20) -> List[Product]:
        """æœç´¢å•†å“"""
        pass

    @abstractmethod
    async def get_product_details(self, product_id: str) -> ProductDetails:
        """è·å–å•†å“è¯¦æƒ…"""
        pass

    @abstractmethod
    async def get_price(self, product_id: str) -> PriceInfo:
        """è·å–å½“å‰ä»·æ ¼"""
        pass

    @abstractmethod
    async def add_to_cart(self, product_id: str, quantity: int) -> bool:
        """æ·»åŠ åˆ°è´­ç‰©è½¦"""
        pass

    @abstractmethod
    async def create_order(self, cart_items: List[CartItem]) -> OrderResult:
        """åˆ›å»ºè®¢å•"""
        pass
```

### 3.2 å„å¹³å°å®ç°

| å¹³å° | é€‚é…å™¨ç±» | æ•°æ®è·å–æ–¹å¼ | ä¸‹å•æ–¹å¼ |
|------|----------|--------------|----------|
| Shopee | ShopeeAdapter | Open API | API |
| Lazada/RedMart | LazadaAdapter | Open API | API |
| FairPrice | FairPriceAdapter | Playwright | è·³è½¬é“¾æ¥ |
| Cold Storage | ColdStorageAdapter | Playwright | è·³è½¬é“¾æ¥ |
| Amazon SG | AmazonAdapter | Product API | è·³è½¬é“¾æ¥ |
| iHerb | iHerbAdapter | Affiliate API | è·³è½¬é“¾æ¥ |

## 4. æ•°æ®åº“è®¾è®¡

### 4.1 è¡¨ç»“æ„

```sql
-- åº“å­˜ç‰©å“è¡¨
CREATE TABLE inventory_items (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL,
    category TEXT,
    current_quantity REAL DEFAULT 0,
    unit TEXT,
    min_quantity REAL,
    preferred_quantity REAL,
    expiry_date DATE,
    last_purchase_date DATE,
    avg_consumption_rate REAL,
    preferred_brands TEXT,  -- JSON array
    notes TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- ä»·æ ¼è®°å½•è¡¨
CREATE TABLE price_records (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    inventory_item_id INTEGER,
    platform TEXT NOT NULL,
    platform_product_id TEXT,
    product_name TEXT,
    price DECIMAL(10,2),
    original_price DECIMAL(10,2),
    unit_price DECIMAL(10,2),
    in_stock BOOLEAN,
    url TEXT,
    scraped_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (inventory_item_id) REFERENCES inventory_items(id)
);

-- é‡‡è´­æ¸…å•è¡¨
CREATE TABLE shopping_lists (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    status TEXT DEFAULT 'draft',
    total_estimated_cost DECIMAL(10,2),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    completed_at TIMESTAMP
);

-- é‡‡è´­æ¸…å•é¡¹ç›®è¡¨
CREATE TABLE shopping_list_items (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    shopping_list_id INTEGER,
    inventory_item_id INTEGER,
    quantity_needed REAL,
    selected_platform TEXT,
    selected_price DECIMAL(10,2),
    FOREIGN KEY (shopping_list_id) REFERENCES shopping_lists(id),
    FOREIGN KEY (inventory_item_id) REFERENCES inventory_items(id)
);

-- è®¢å•è¡¨
CREATE TABLE orders (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    shopping_list_id INTEGER,
    platform TEXT,
    platform_order_id TEXT,
    total_amount DECIMAL(10,2),
    status TEXT DEFAULT 'pending',
    ordered_at TIMESTAMP,
    delivered_at TIMESTAMP,
    FOREIGN KEY (shopping_list_id) REFERENCES shopping_lists(id)
);

-- æ¶ˆè€—è®°å½•è¡¨ï¼ˆç”¨äºè®¡ç®—æ¶ˆè€—é€Ÿç‡ï¼‰
CREATE TABLE consumption_logs (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    inventory_item_id INTEGER,
    quantity_consumed REAL,
    logged_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (inventory_item_id) REFERENCES inventory_items(id)
);
```

## 5. å®šæ—¶ä»»åŠ¡è®¾è®¡

```python
# å®šæ—¶ä»»åŠ¡é…ç½®
SCHEDULED_JOBS = {
    "price_monitor": {
        "trigger": "interval",
        "hours": 6,           # æ¯6å°æ—¶æ›´æ–°ä»·æ ¼
        "func": "tasks.monitor_prices"
    },
    "inventory_check": {
        "trigger": "cron",
        "hour": 8,            # æ¯å¤©æ—©ä¸Š8ç‚¹æ£€æŸ¥åº“å­˜
        "func": "tasks.check_inventory_levels"
    },
    "auto_generate_list": {
        "trigger": "cron",
        "day_of_week": "sun", # æ¯å‘¨æ—¥ç”Ÿæˆé‡‡è´­æ¸…å•
        "hour": 10,
        "func": "tasks.generate_shopping_list"
    },
    "promo_alert": {
        "trigger": "interval",
        "hours": 12,          # æ¯12å°æ—¶æ£€æŸ¥ä¿ƒé”€
        "func": "tasks.check_promotions"
    }
}
```

## 6. ç”¨æˆ·ç•Œé¢è®¾è®¡

### 6.1 Web Dashboard

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ  Grocery Manager                        [é€šçŸ¥] [è®¾ç½®]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ğŸ“¦ åº“å­˜æ¦‚è§ˆ    â”‚  â”‚  ğŸ’° ä»Šæ—¥æœ€ä¼˜ä»·  â”‚  â”‚  âš ï¸ é¢„è­¦     â”‚ â”‚
â”‚  â”‚  æ€»ç‰©å“: 45     â”‚  â”‚  ç‰›å¥¶ $3.50     â”‚  â”‚  ä½åº“å­˜: 5   â”‚ â”‚
â”‚  â”‚  ä½åº“å­˜: 5      â”‚  â”‚  é¸¡è›‹ $4.20     â”‚  â”‚  å³å°†è¿‡æœŸ: 2 â”‚ â”‚
â”‚  â”‚  å³å°†è¿‡æœŸ: 2    â”‚  â”‚  å¤§ç±³ $12.90    â”‚  â”‚              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ğŸ“‹ æœ¬å‘¨é‡‡è´­æ¸…å•                          [ç”Ÿæˆè®¢å•]  â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ â˜ ç‰›å¥¶ 2L x2      FairPrice $3.50   RedMart $3.80â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ â˜ é¸¡è›‹ 30ä¸ª       Shopee $4.20      FairPrice $4.50â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ â˜ æ´—è¡£æ¶² 3L      Lazada $15.90     Amazon $16.50â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚  é¢„è®¡æ€»ä»·: $56.80                                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 CLI ç•Œé¢

```bash
$ grocery-manager

Commands:
  inventory list              # æŸ¥çœ‹åº“å­˜
  inventory add <item>        # æ·»åŠ ç‰©å“
  inventory update <id>       # æ›´æ–°ç‰©å“

  price check <item>          # æŸ¥è¯¢ä»·æ ¼
  price history <item>        # ä»·æ ¼å†å²

  list generate               # ç”Ÿæˆé‡‡è´­æ¸…å•
  list show                   # æ˜¾ç¤ºå½“å‰æ¸…å•
  list order                  # ä¸‹å•

  schedule show               # æ˜¾ç¤ºå®šæ—¶ä»»åŠ¡
  schedule run <job>          # æ‰‹åŠ¨è¿è¡Œä»»åŠ¡
```

## 7. é¡¹ç›®ç»“æ„

```
grocery-manager/
â”œâ”€â”€ README.md
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ config.yaml                 # é…ç½®æ–‡ä»¶
â”œâ”€â”€ docker-compose.yml
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ main.py                 # FastAPI å…¥å£
â”‚   â”œâ”€â”€ cli.py                  # CLI å…¥å£
â”‚   â”‚
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”œâ”€â”€ config.py           # é…ç½®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ database.py         # æ•°æ®åº“è¿æ¥
â”‚   â”‚   â””â”€â”€ scheduler.py        # å®šæ—¶ä»»åŠ¡
â”‚   â”‚
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ inventory.py
â”‚   â”‚   â”œâ”€â”€ price.py
â”‚   â”‚   â”œâ”€â”€ shopping_list.py
â”‚   â”‚   â””â”€â”€ order.py
â”‚   â”‚
â”‚   â”œâ”€â”€ adapters/
â”‚   â”‚   â”œâ”€â”€ base.py             # æŠ½è±¡åŸºç±»
â”‚   â”‚   â”œâ”€â”€ shopee.py
â”‚   â”‚   â”œâ”€â”€ lazada.py
â”‚   â”‚   â”œâ”€â”€ fairprice.py
â”‚   â”‚   â”œâ”€â”€ cold_storage.py
â”‚   â”‚   â””â”€â”€ amazon.py
â”‚   â”‚
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ inventory_service.py
â”‚   â”‚   â”œâ”€â”€ price_service.py
â”‚   â”‚   â”œâ”€â”€ shopping_service.py
â”‚   â”‚   â””â”€â”€ order_service.py
â”‚   â”‚
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”‚   â”œâ”€â”€ inventory.py
â”‚   â”‚   â”‚   â”œâ”€â”€ prices.py
â”‚   â”‚   â”‚   â”œâ”€â”€ shopping.py
â”‚   â”‚   â”‚   â””â”€â”€ orders.py
â”‚   â”‚   â””â”€â”€ dependencies.py
â”‚   â”‚
â”‚   â””â”€â”€ tasks/
â”‚       â”œâ”€â”€ price_monitor.py
â”‚       â”œâ”€â”€ inventory_check.py
â”‚       â””â”€â”€ promo_alert.py
â”‚
â”œâ”€â”€ web/                        # Vue.js å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ public/
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ test_adapters/
â”‚   â”œâ”€â”€ test_services/
â”‚   â””â”€â”€ test_api/
â”‚
â””â”€â”€ data/
    â””â”€â”€ grocery.db              # SQLite æ•°æ®åº“
```

## 8. å®ç°ä¼˜å…ˆçº§

### Phase 1: MVP (æœ€å°å¯è¡Œäº§å“)
1. SQLite æ•°æ®åº“åˆå§‹åŒ–
2. åº“å­˜ç®¡ç†åŸºç¡€åŠŸèƒ½ (CRUD)
3. CLI ç•Œé¢
4. FairPrice ä»·æ ¼çˆ¬è™« (æœ€å¸¸ç”¨)

### Phase 2: æ‰©å±•å¹³å°
5. Lazada/RedMart API é›†æˆ
6. Shopee API é›†æˆ
7. ä»·æ ¼æ¯”è¾ƒåŠŸèƒ½

### Phase 3: è‡ªåŠ¨åŒ–
8. å®šæ—¶ä»»åŠ¡æ¡†æ¶
9. è‡ªåŠ¨ç”Ÿæˆé‡‡è´­æ¸…å•
10. ä½åº“å­˜é¢„è­¦é€šçŸ¥

### Phase 4: å®Œå–„
11. Web Dashboard
12. è®¢å•ç®¡ç†
13. æ¶ˆè€—åˆ†ææŠ¥è¡¨
